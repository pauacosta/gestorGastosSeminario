# ğŸ’° Gestor de Gastos Personales

Sistema web para gestionar gastos con categorÃ­as y mÃºltiples usuarios. Proyecto desarrollado con Flask y SQLite.

---

## ğŸ“– Â¿QuÃ© hace esta aplicaciÃ³n?

Esta aplicaciÃ³n te permite:
- ğŸ‘¤ Crear y gestionar usuarios
- ğŸ·ï¸ Crear categorÃ­as personalizadas (Comida, Transporte, etc.)
- ğŸ’µ Registrar gastos asignÃ¡ndolos a una categorÃ­a
- ğŸ“Š Ver el total de gastos y estadÃ­sticas
- ğŸ”’ Sistema de login seguro con contraseÃ±as encriptadas

---

## ğŸ› ï¸ TecnologÃ­as Usadas

| TecnologÃ­a | Â¿Para quÃ© sirve? |
|------------|------------------|
| **Python 3** | Lenguaje de programaciÃ³n principal |
| **Flask** | Framework web (crea las pÃ¡ginas y rutas) |
| **SQLAlchemy** | Maneja la base de datos con Python |
| **SQLite** | Base de datos (archivo database.db) |
| **Bootstrap 5** | Estilos CSS modernos |
| **HTML/CSS/JS** | Frontend (lo que ves en el navegador) |

---

## ğŸ“ Estructura del Proyecto

```
gestorGastosSeminario/
â”‚
â”œâ”€â”€ app.py                    # ğŸ§  Cerebro: rutas y lÃ³gica
â”œâ”€â”€ models.py                 # ğŸ“¦ Modelos: define las tablas
â”œâ”€â”€ requirements.txt          # ğŸ“‹ Lista de librerÃ­as necesarias
â”œâ”€â”€ database.db              # ğŸ’¾ Base de datos (se crea sola)
â”‚
â”œâ”€â”€ static/
â”‚   â””â”€â”€ style.css            # ğŸ¨ Estilos CSS
â”‚
â””â”€â”€ templates/               # ğŸ“„ PÃ¡ginas HTML
    â”œâ”€â”€ base.html           # Plantilla base (navbar)
    â”œâ”€â”€ login.html          # PÃ¡gina de inicio de sesiÃ³n
    â”œâ”€â”€ home.html           # Dashboard principal
    â”œâ”€â”€ usuarios.html       # GestiÃ³n de usuarios
    â”œâ”€â”€ categorias.html     # GestiÃ³n de categorÃ­as
    â”œâ”€â”€ form.html           # Formulario para gastos
    â””â”€â”€ list.html           # Lista de gastos
```

---

## ğŸš€ InstalaciÃ³n RÃ¡pida

### 1. Clona el repositorio
```bash
git clone https://github.com/pauacosta/gestorGastosSeminario.git
cd gestorGastosSeminario
```

### 2. Crea un entorno virtual
```bash
python -m venv .venv

# En Windows:
.venv\Scripts\activate

# En Linux/Mac:
source .venv/bin/activate
```

### 3. Instala las dependencias
```bash
pip install -r requirements.txt
```

### 4. Ejecuta la aplicaciÃ³n
```bash
python app.py
```

### 5. Abre tu navegador
```
http://localhost:5000
```

### 6. Inicia sesiÃ³n
- **Usuario:** `admin`
- **ContraseÃ±a:** `admin123`

---

## ğŸ¯ Funcionalidades Principales

### 1ï¸âƒ£ Sistema de Login
- Inicio de sesiÃ³n con usuario y contraseÃ±a
- Las contraseÃ±as se guardan **encriptadas** (seguras)
- Solo usuarios logueados pueden acceder

### 2ï¸âƒ£ GestiÃ³n de Usuarios (ABM)
- â• **Crear** usuarios nuevos
- âœï¸ **Editar** usuarios existentes
- ğŸ—‘ï¸ **Eliminar** usuarios (excepto el tuyo)
- ğŸ‘ï¸ Ver cuÃ¡ntos gastos tiene cada usuario

### 3ï¸âƒ£ GestiÃ³n de CategorÃ­as (ABM)
- â• **Crear** categorÃ­as (Ej: Comida, Transporte)
- âœï¸ **Editar** nombre y descripciÃ³n
- ğŸ—‘ï¸ **Eliminar** (solo si no tiene gastos)
- ğŸ“Š Ver cuÃ¡ntos gastos tiene cada categorÃ­a

### 4ï¸âƒ£ GestiÃ³n de Gastos
- â• **Crear** gastos con monto y descripciÃ³n
- âš ï¸ **ValidaciÃ³n obligatoria** de categorÃ­a (no puedes crear un gasto sin categorÃ­a)
- ğŸ“‹ **Ver lista completa** de todos los gastos
- ğŸ’° **Suma total** automÃ¡tica
- ğŸ—‘ï¸ **Eliminar** gastos

---

## ğŸ”‘ Conceptos Importantes

### Â¿QuÃ© es Flask?
Flask es un **framework web** de Python. Te permite crear pÃ¡ginas web fÃ¡cilmente.

**Ejemplo:**
```python
@app.route('/home')  # Define la URL
def home():          # FunciÃ³n que se ejecuta
    return "Hola"    # Lo que muestra
```

### Â¿QuÃ© es SQLAlchemy?
Es una herramienta que te permite trabajar con bases de datos usando Python en lugar de SQL.

**Sin SQLAlchemy (SQL):**
```sql
SELECT * FROM usuarios WHERE username = 'admin';
```

**Con SQLAlchemy (Python):**
```python
usuario = Usuario.query.filter_by(username='admin').first()
```

### Â¿QuÃ© es ABM?
**A**lta, **B**aja, **M**odificaciÃ³n = Crear, Eliminar, Editar

### Â¿CÃ³mo funciona la base de datos?

Tenemos 3 tablas conectadas:

```
Usuario (1) ----< Gastos (Muchos)
    |
    |- id
    |- username
    |- email
    |- password_hash
    
Gasto
    |- id
    |- monto
    |- descripcion
    |- fecha
    |- usuario_id  (conecta con Usuario)
    |- categoria_id (conecta con Categoria)

CategorÃ­a (1) ----< Gastos (Muchos)
    |
    |- id
    |- nombre
    |- descripcion
```

**RelaciÃ³n:** Un usuario puede tener **muchos** gastos. Un gasto pertenece a **un solo** usuario.

---

## ğŸ¨ CaracterÃ­sticas de la UI

- âœ… DiseÃ±o moderno con gradientes
- âœ… Responsive (funciona en mÃ³viles)
- âœ… Animaciones suaves
- âœ… Iconos Font Awesome
- âœ… Colores profesionales
- âœ… Mensajes flash informativos
- âœ… Modales para editar sin cambiar de pÃ¡gina

---

## ğŸ”’ Seguridad

### ContraseÃ±as Encriptadas
Las contraseÃ±as NO se guardan en texto plano. Usamos **hashing**:

```python
# Al crear usuario:
admin.set_password('admin123')  
# Guarda: $pbkdf2-sha256$260000$...

# Al hacer login:
usuario.check_password('admin123')  
# Compara el hash, NO la contraseÃ±a
```

### Sesiones
Usamos **sesiones** de Flask para saber quiÃ©n estÃ¡ logueado:

```python
session['user_id'] = usuario.id
session['username'] = usuario.username
```

### ProtecciÃ³n de Rutas
El decorador `@login_required` protege las pÃ¡ginas:

```python
@app.route('/home')
@login_required  # Solo acceden usuarios logueados
def home():
    return render_template('home.html')
```

---

## âš ï¸ ValidaciÃ³n de CategorÃ­a Obligatoria

Esta es una caracterÃ­stica **clave** del proyecto. La validaciÃ³n se hace en **3 niveles**:

### Nivel 1: HTML5
```html
<select name="categoria_id" required>
```
El navegador no deja enviar el formulario si estÃ¡ vacÃ­o.

### Nivel 2: JavaScript
```javascript
if (!categoriaId) {
    alert('Debes seleccionar una categorÃ­a');
    return false;
}
```
ValidaciÃ³n adicional antes de enviar.

### Nivel 3: Python (Servidor)
```python
if not categoria_id:
    flash('Debes seleccionar una categorÃ­a', 'danger')
    return redirect(url_for('gastos'))
```
**Esta es la mÃ¡s importante.** Nunca confÃ­es solo en el cliente.

---

## ğŸ“ CÃ³mo Explicar el Proyecto

### IntroducciÃ³n (30 segundos)
> "Es un gestor de gastos personales donde puedes crear usuarios, categorÃ­as y registrar gastos. Lo importante es que tiene validaciÃ³n obligatoria de categorÃ­as en 3 niveles: HTML, JavaScript y Python."

### DemostraciÃ³n (2 minutos)
1. Mostrar el login
2. Crear una categorÃ­a (Ej: "Comida")
3. Intentar crear un gasto sin categorÃ­a â†’ Mostrar el error
4. Crear un gasto correctamente
5. Mostrar la lista con el total

### Aspectos TÃ©cnicos (1 minuto)
> "Usa Flask para el backend, SQLite para la base de datos y Bootstrap para el frontend. Las contraseÃ±as estÃ¡n encriptadas con Werkzeug y tiene 3 tablas relacionadas: Usuarios, CategorÃ­as y Gastos."

---

## ğŸ› SoluciÃ³n de Problemas

### Error: "No module named 'flask'"
```bash
pip install -r requirements.txt
```

### Error: "TemplateNotFound"
Verifica que la carpeta `templates/` tenga todos los archivos HTML.

### No puedo hacer login
1. Borra `database.db`
2. Ejecuta `python app.py` de nuevo
3. Usuario: `admin` / ContraseÃ±a: `admin123`

### Los estilos no se ven
Verifica que:
1. Existe la carpeta `static/`
2. Existe el archivo `static/style.css`
3. En `base.html` estÃ¡: `<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">`

---

## ğŸ“š Archivos Principales Explicados

### app.py
- Define todas las **rutas** (URLs)
- Maneja el **login** y **sesiones**
- Procesa los **formularios**
- Se comunica con la **base de datos**

### models.py
- Define las **tablas** como clases de Python
- `Usuario`: guarda users
- `Categoria`: guarda categorÃ­as
- `Gasto`: guarda los gastos

### templates/base.html
- Plantilla **base** que usan todas las pÃ¡ginas
- Tiene el **navbar** y los **estilos**
- Otras pÃ¡ginas la **extienden** con `{% extends "base.html" %}`

### static/style.css
- Todos los **estilos** visuales
- Colores, gradientes, animaciones
- Separado del HTML para mejor organizaciÃ³n

---

## ğŸ¯ Lo MÃ¡s Importante

1. **ValidaciÃ³n triple de categorÃ­as** - Es el punto fuerte del proyecto
2. **Relaciones de base de datos** - Uno a muchos bien implementadas
3. **Seguridad** - ContraseÃ±as hasheadas, rutas protegidas
4. **UI moderna** - Se ve profesional con Bootstrap y CSS personalizado
5. **CÃ³digo limpio** - Comentado y fÃ¡cil de entender

---

## ğŸ“ Contacto

- **GitHub:** [pauacosta](https://github.com/pauacosta)
- **Repositorio:** [gestorGastosSeminario](https://github.com/pauacosta/gestorGastosSeminario)

---

## ğŸ“„ Licencia

Este proyecto es de cÃ³digo abierto y estÃ¡ disponible para uso educativo.

---

**Â¡Hecho con â¤ï¸ para aprender desarrollo web!** ğŸš€
